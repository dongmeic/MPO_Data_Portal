data$Owner <- ifelse(data$Owner=='Eug', 'EUG', ifelse(data$Owner=='Spr', 'SPR', data$Owner))
unique(data$Owner)
colnames(data)
library(rgdal)
?readOGR
tubelocs <- readOGR(dsn=paste0(inpath, "traffic_count_locations/traffic_count_locations.gdb"),
layer="tube_locations_SpatialJoin")
# load functions and get some global settings
source("T:/GitHub/MPO_Data_Portal/TrafficCountData/RegionalCounts/Traffic_Counts_Functions.r")
inpath <- "T:/Data/COUNTS/Motorized Counts/Regional Traffic Counts Program/Central Lane Motorized Count Program/"
site.path <- paste0(inpath, "traffic_count_locations")
# review the locations
tubelocs <- readOGR(dsn=paste0(site.path, "/traffic_count_locations.gdb"), layer="tube_locations_SpatialJoin")
colnames(tubelocs)
head(tubelocs)
unique(tubelocs$rlidname)
colnames(data)
unique(data$Location)
# read the summary table to get the locations
sum.table <- read_xlsx(paste0(inpath, "data/June2021/LCOG_2021Data SummaryB.xlsx"), sheet=1)
library(readxl)
# read the summary table to get the locations
sum.table <- read_xlsx(paste0(inpath, "data/June2021/LCOG_2021Data SummaryB.xlsx"), sheet=1)
head(sum.table)
unique(sum.table$Roadway)
for(loc in unique(sum.table$Roadway)[2:16]){
if(loc %in% unique(tubelocs$rlidname)){
print(loc)
}
}
length(unique(sum.table$Roadway)[2:16])
rlidnms <- vector()
for(loc in unique(sum.table$Roadway)[2:16]){
if(loc %in% unique(tubelocs$rlidname)){
print(loc)
append(rlidnms, loc)
}
}
rlidnms
rlidnms <- vector()
for(loc in unique(sum.table$Roadway)[2:16]){
if(loc %in% unique(tubelocs$rlidname)){
print(loc)
rlidnms <- append(rlidnms, loc)
}
}
rlidnms
rlidnms <- vector()
missed <- vector()
for(loc in unique(sum.table$Roadway)[2:16]){
if(loc %in% unique(tubelocs$rlidname)){
print(loc)
rlidnms <- append(rlidnms, loc)
}else{
missed <- append(missed, loc)
}
}
missed
unique(data$Location)
unique(tubelocs$rlidname)
colnames(data)
unique(data$Site)
rlidnms
sum.table <- read_xlsx(paste0(inpath, "data/June2021/LCOG_2021Data SummaryB.xlsx"), sheet=1)
unique(sum.table$Roadway)
rlidnms <- vector()
missed <- vector()
for(loc in unique(sum.table$Roadway)[2:16]){
if(loc %in% unique(tubelocs$rlidname)){
print(loc)
rlidnms <- append(rlidnms, loc)
}else{
missed <- append(missed, loc)
}
}
missed
sum.table <- read_xlsx(paste0(inpath, "data/June2021/LCOG_2021Data SummaryB.xlsx"), sheet=1)
unique(sum.table$Roadway)
rlidnms <- vector()
missed <- vector()
for(loc in unique(sum.table$Roadway)[2:15]){
if(loc %in% unique(tubelocs$rlidname)){
print(loc)
rlidnms <- append(rlidnms, loc)
}else{
missed <- append(missed, loc)
}
}
missed
head(tubelocs)
# select the traffic locations from the tube locations
# review the locations using the table information and tube locations
# change "Danebo" to "N Danebo Ave", "S Bertensen" to "S Bertelsen Rd", "N 42nd Avenue" to "S 42nd St",
# "S 42nd St" to "42nd St", "Virvinia Ave" to "Virginia Ave", "W11th" to "W 11th Ave"
# select these locations from the tube locations: Laurelhurst Dr, 32nd St, and rlidnms
sel_tubelocs <- tubelocs[tubelocs$rlidname %in% c("Laurelhurst Dr", "32nd St", rlidnms),]
head(sel_tubelocs)
dim(sel_tubelocs)
rlidnms
unique(sel_tubelocs$fed_class)
list.files(path = data.path, pattern = "LCOG_2021")
# organize the traffic counts data
data.path <- paste0(inpath, "data/June2021")
list.files(path = data.path, pattern = "LCOG_2021")
data.path <- paste0(inpath, "data/June2021")
list.files(path = data.path, pattern = "LCOG_2021")
datafiles <- list.files(path = data.path, pattern = "LCOG_2021")
data.path <- paste0(inpath, "data/June2021/SiteData")
datafiles <- list.files(path = data.path, pattern = "LCOG_2021")
datafiles
data.path <- paste0(inpath, "data/June2021/SiteData")
datafiles <- list.files(path = data.path, pattern = "LCOG_2021")
datafiles
head(data)
?read_xlsx
filename <- "LCOG_2021BaileyHill.xlsx"
df <- read_xlsx(paste0(data.path, filename), sheet=1, range = "A12:P60") %>%  # TC: traffic counts
mutate(Date = as.Date(Date, "%m/%d/%Y", tz = "America/Los_Angeles"),
Hour = format(Hour, "%I:%M %p")) %>%
filter(!is.na(Total)) %>%
rename(Site = sitename, Time = Hour)
# load libraries
library(dplyr)
df <- read_xlsx(paste0(data.path, filename), sheet=1, range = "A12:P60") %>%  # TC: traffic counts
mutate(Date = as.Date(Date, "%m/%d/%Y", tz = "America/Los_Angeles"),
Time = format(Time, "%I:%M %p")) %>%
filter(!is.na(Total))
filename <- "LCOG_2021BaileyHill.xlsx"
df <- read_xlsx(paste0(data.path, "/", filename), sheet=1, range = "A12:P60") %>%  # TC: traffic counts
mutate(Date = as.Date(Date, "%m/%d/%Y", tz = "America/Los_Angeles"),
Time = format(Time, "%I:%M %p")) %>%
filter(!is.na(Total))
head(df)
colnames(data)
df <- read_xlsx(paste0(data.path, "/", filename), sheet=1, range = "A12:P60") %>%  # TC: traffic counts
mutate(Date = as.Date(Date, "%m/%d/%Y", tz = "America/Los_Angeles"),
Time = format(Time, "%I:%M %p")) %>%
filter(!is.na(Total)) %>%
melt(id.vars=c("Date","Time","Total")) %>%
rename(VehicleType = variable, VehicleQty = value) %>%
mutate(VehicleType = gsub(" ", "", VehicleType))
library(reshape2)
df <- read_xlsx(paste0(data.path, "/", filename), sheet=1, range = "A12:P60") %>%  # TC: traffic counts
mutate(Date = as.Date(Date, "%m/%d/%Y", tz = "America/Los_Angeles"),
Time = format(Time, "%I:%M %p")) %>%
filter(!is.na(Total)) %>%
melt(id.vars=c("Date","Time","Total")) %>%
rename(VehicleType = variable, VehicleQty = value) %>%
mutate(VehicleType = gsub(" ", "", VehicleType))
head(df)
head(data)
weekdays(df$Date)
head(data)
read_xlsx(paste0(data.path, "/", filename), sheet=1, range = "B11:B11")
read_excel(paste0(data.path, "/", filename), sheet=1, range = "B11:B11")
names(read_excel(paste0(data.path, "/", filename), sheet=1, range = "B11:B11"))
substring(names(read_excel(paste0(data.path, "/", filename), sheet=1, range = "B11:B11")), 1, 1)
max(data$Site)
filename <- "LCOG_2021BaileyHill.xlsx"
b <- substring(names(read_excel(paste0(data.path, "/", filename), sheet=1, range = "B11:B11")), 1, 1)
s <- 26
df <- read_xlsx(paste0(data.path, "/", filename), sheet=1, range = "A12:P60") %>%  # TC: traffic counts
mutate(Date = as.Date(Date, "%m/%d/%Y", tz = "America/Los_Angeles"),
Time = format(Time, "%I:%M %p")) %>%
filter(!is.na(Total)) %>%
mutate(Day = weekdays(Date), Direction=rep(b, length(.$Date)), Site=rep(s, length(.$Date))) %>%
melt(id.vars=c("Site","Direction","Date","Day","Time","Total")) %>%
rename(VehicleType = variable, VehicleQty = value) %>%
mutate(VehicleType = gsub(" ", "", VehicleType))
head(df)
readOneBound <- function(s=26, boundCell="B11:B11", range="A12:P60",
filename="LCOG_2021BaileyHill.xlsx"){
b <- substring(names(read_excel(paste0(data.path, "/", filename), sheet=1, range = boundCell)), 1, 1)
df <- read_xlsx(paste0(data.path, "/", filename), sheet=1, range = range) %>%  # TC: traffic counts
mutate(Date = as.Date(Date, "%m/%d/%Y", tz = "America/Los_Angeles"),
Time = format(Time, "%I:%M %p")) %>%
filter(!is.na(Total)) %>%
mutate(Day = weekdays(Date), Direction=rep(b, length(.$Date)), Site=rep(s, length(.$Date))) %>%
melt(id.vars=c("Site","Direction","Date","Day","Time","Total")) %>%
rename(VehicleType = variable, VehicleQty = value) %>%
mutate(VehicleType = gsub(" ", "", VehicleType))
return(df)
}
df <- readOneBound()
head(df)
s=26; filename="LCOG_2021BaileyHill.xlsx"
df1 <- readOneBound(s=s, boundCell="B11:B11", range="A12:P60",
filename=filename)
df2 <- readOneBound(s=s, boundCell="T11:T11", range="S12:AHP60",
filename=filename)
head(df2)
readTable <- function(s=26, filename="LCOG_2021BaileyHill.xlsx"){
df1 <- readOneBound(s=s, boundCell="B11:B11", range="A12:P60",
filename=filename)
df2 <- readOneBound(s=s, boundCell="T11:T11", range="S12:AHP60",
filename=filename)
df <- rbind(df1, df2)
return(df)
}
df <- readTable()
tail(df)
readTable <- function(s=26, filename="LCOG_2021BaileyHill.xlsx"){
df1 <- readOneBound(s=s, boundCell="B11:B11", range="A12:P60",
filename=filename)
df2 <- readOneBound(s=s, boundCell="T11:T11", range="S12:AH60",
filename=filename)
df <- rbind(df1, df2)
return(df)
}
df <- readTable()
tail(df)
head(sel_tubelocs)
colnames(data)
head(data)
unique(data$Location)
sel_tubelocs$rlidname
names(read_excel(paste0(data.path, "/", filename), sheet=1, range = "B7:B7"))
loc <- names(read_excel(paste0(data.path, "/", filename), sheet=1, range = "B7:B7"))
substr(loc,1,nchar(loc)-8)
substr(loc,2,nchar(loc)-9)
loc2 <- names(read_excel(paste0(data.path, "/", filename), sheet=1, range = "B8:B8"))
loc2
substr(loc2,2,nchar(loc2)-1)
get_loc_info <- function(filename="LCOG_2021BaileyHill.xlsx"){
loc <- names(read_excel(paste0(data.path, "/", filename), sheet=1, range = "B7:B7"))
locnm <- substr(loc,2,nchar(loc)-9)
loc2 <- names(read_excel(paste0(data.path, "/", filename), sheet=1, range = "B8:B8"))
cross_st <- substr(loc2,2,nchar(loc2)-1)
if(locnm %in% c("S Bertelsen Rd", "Bailey Hill Rd")){
locnm <- paste(locnm, "at", cross_st)
}
return(locnm)
}
get_loc_info()
dim(df)
dim(df)[1]
readTable <- function(s=26, filename="LCOG_2021BaileyHill.xlsx"){
df1 <- readOneBound(s=s, boundCell="B11:B11", range="A12:P60",
filename=filename)
df2 <- readOneBound(s=s, boundCell="T11:T11", range="S12:AH60",
filename=filename)
df <- rbind(df1, df2)
df$Location <- rep(get_loc_info(filename), dim(df)[1])
return(df)
}
df <- readTable()
head(df)
data.path <- paste0(inpath, "data/June2021/SiteData")
datafiles <- list.files(path = data.path, pattern = "LCOG_2021")
datafiles
# read the table
str_extract("1.0 LCOG_2021RoyalAve.xlsx", ".")
library(stringr)
# read the table
str_extract("1.0 LCOG_2021RoyalAve.xlsx", ".")
# read the table
as.numeric(str_extract("1.0 LCOG_2021RoyalAve.xlsx", "."))
max(data$Site)
readOneBound <- function(boundCell="B11:B11", range="A12:P60",
filename="1.0 LCOG_2021RoyalAve.xlsx"){
s <- as.numeric(str_extract(filename, ".")) + 24
b <- substring(names(read_excel(paste0(data.path, "/", filename), sheet=1, range = boundCell)), 1, 1)
df <- read_xlsx(paste0(data.path, "/", filename), sheet=1, range = range) %>%  # TC: traffic counts
mutate(Date = as.Date(Date, "%m/%d/%Y", tz = "America/Los_Angeles"),
Time = format(Time, "%I:%M %p")) %>%
filter(!is.na(Total)) %>%
mutate(Day = weekdays(Date), Direction=rep(b, length(.$Date)), Site=rep(s, length(.$Date))) %>%
melt(id.vars=c("Site","Direction","Date","Day","Time","Total")) %>%
rename(VehicleType = variable, VehicleQty = value) %>%
mutate(VehicleType = gsub(" ", "", VehicleType))
return(df)
}
get_loc_info <- function(filename="1.0 LCOG_2021RoyalAve.xlsx"){
loc <- names(read_excel(paste0(data.path, "/", filename), sheet=1, range = "B7:B7"))
locnm <- substr(loc,2,nchar(loc)-9)
loc2 <- names(read_excel(paste0(data.path, "/", filename), sheet=1, range = "B8:B8"))
cross_st <- substr(loc2,2,nchar(loc2)-1)
if(locnm %in% c("S Bertelsen Rd", "Bailey Hill Rd")){
locnm <- paste(locnm, "at", cross_st)
}
return(locnm)
}
readTable <- function(filename="1.0 LCOG_2021RoyalAve.xlsx"){
df1 <- readOneBound(boundCell="B11:B11", range="A12:P60",
filename=filename)
df2 <- readOneBound(boundCell="T11:T11", range="S12:AH60",
filename=filename)
df <- rbind(df1, df2)
df$Location <- rep(get_loc_info(filename), dim(df)[1])
return(df)
}
df <- readTable()
head(df)
locs21 <- readOGR(dsn=paste0(site.path, "/", traffic_count_locations.gdb), layer="locations2021")
locs21 <- readOGR(dsn=paste0(site.path, "/traffic_count_locations.gdb"), layer="locations2021")
head(locs21)
locs21 <- readOGR(dsn=paste0(site.path, "/traffic_count_locations.gdb"), layer="locations2021")
head(locs21)
locs21$Site <- locs21$Site+24
head(df)
unique(df$Site)
datafiles
readAllTables <- function(set="June2021"){
data.path <- paste0(inpath, "data/", set, "/SiteData")
datafiles <- list.files(path = data.path, pattern = "LCOG_2021")
for(file in datafiles){
if(file == datafiles[1]){
df <- readOneTable(filename = file)
}else{
ndf <- readOneTable(filename = file)
df <- rbind(df, ndf)
}
print(file)
}
return(df)
}
df <- readAllTables()
readOneTable <- function(filename="1.0 LCOG_2021RoyalAve.xlsx"){
if(filename == "11.0 LCOG_2021ASt.xlsx"){
df <- readOneBound(boundCell="B11:B11", range="A12:P60",
filename=filename)
}else{
df1 <- readOneBound(boundCell="B11:B11", range="A12:P60",
filename=filename)
df2 <- readOneBound(boundCell="T11:T11", range="S12:AH60",
filename=filename)
df <- rbind(df1, df2)
}
df$Location <- rep(get_loc_info(filename), dim(df)[1])
return(df)
}
df <- readAllTables()
datafiles
readAllTables <- function(set="June2021"){
data.path <- paste0(inpath, "data/", set, "/SiteData")
datafiles <- list.files(path = data.path, pattern = "LCOG_2021")
for(file in datafiles){
if(file == datafiles[1]){
df <- readOneTable(filename = file)
}else{
ndf <- readOneTable(filename = file)
df <- rbind(df, ndf)
}
print(file)
}
return(df)
}
df <- readAllTables()
tail(df)
head(df)
names(locs21)
names(data)
layer="locations2021"; n=24; set="June2021"
loc <- readOGR(dsn=paste0(site.path, "/traffic_count_locations.gdb"),
layer=layer, stringsAsFactors = FALSE)
loc$Site <- loc$Site+n
loc.lonlat <- spTransform(loc, CRS("+init=epsg:4326"))
lonlat.df <- as.data.frame(loc.lonlat@coords)
names(lonlat.df) <- c("Longitude", "Latitude")
loc.df <- loc[,c("Site", "owner")]
colnames(loc.df)[2] <- "Owner"
loc.df <- cbind(lonlat.df, loc.df)
colnames(loc.df)
head(loc[,c("Site", "owner")])
class(loc)
head(as.data.frame(loc)[,c("Site", "owner")])
loc <- readOGR(dsn=paste0(site.path, "/traffic_count_locations.gdb"),
layer=layer, stringsAsFactors = FALSE)
loc$Site <- loc$Site+n
loc.lonlat <- spTransform(loc, CRS("+init=epsg:4326"))
lonlat.df <- as.data.frame(loc.lonlat@coords)
names(lonlat.df) <- c("Longitude", "Latitude")
loc.df <- as.data.frame(loc)[,c("Site", "owner")]
colnames(loc.df)[2] <- "Owner"
loc.df <- cbind(lonlat.df, loc.df)
head(loc.df)
loc.df$Year <- "2021"
loc.df$Season <- "Summer"
head(df)
ndf <- merge(df, loc.df, by="Site")
head(ndf)
names(data)
unique(loc.df$Owner)
col_order <- colnames(data)
add_loc_info <- function(layer="locations2021", n=24, set="June2021",
colOrder = col_order){
loc <- readOGR(dsn=paste0(site.path, "/traffic_count_locations.gdb"),
layer=layer, stringsAsFactors = FALSE)
loc$Site <- loc$Site+n
loc.lonlat <- spTransform(loc, CRS("+init=epsg:4326"))
lonlat.df <- as.data.frame(loc.lonlat@coords)
names(lonlat.df) <- c("Longitude", "Latitude")
loc.df <- as.data.frame(loc)[,c("Site", "owner")]
colnames(loc.df)[2] <- "Owner"
loc.df <- cbind(lonlat.df, loc.df)
loc.df$Year <- "2021"
loc.df$Season <- "Summer"
df <- readAllTables(set = set)
ndf <- merge(df, loc.df, by="Site")
ndf <- ndf[,colOrder]
return(ndf)
}
df <- add_loc_info()
head(df)
head(data)
# load functions and get some global settings
source("T:/GitHub/MPO_Data_Portal/TrafficCountData/RegionalCounts/Traffic_Counts_Functions.r")
new_data <- add_loc_info()
data <- rbind(data, new_data)
write.csv(outpath, "Traffic_Counts_Vehicles.csv", row.names = FALSE)
write.csv(data, paste0(outpath, "Traffic_Counts_Vehicles.csv"), row.names = FALSE)
############################## Summer 2021 ################################
# read the last-updated data
data <- read.csv(paste0(outpath, "Traffic_Counts_Vehicles.csv"))
#colnames(data)[which(colnames(data) %in% c("owner", "YEAR", "SEASON","Location_d"))] <- c("Owner", "Year", "Season","Location")
#data$Owner <- ifelse(data$Owner=='Eug', 'EUG', ifelse(data$Owner=='Spr', 'SPR', data$Owner))
col_order <- colnames(data)
#colnames(data)[which(colnames(data) %in% c("owner", "YEAR", "SEASON","Location_d"))] <- c("Owner", "Year", "Season","Location")
#data$Owner <- ifelse(data$Owner=='Eug', 'EUG', ifelse(data$Owner=='Spr', 'SPR', data$Owner))
col_order <- colnames(data)
new_data <- add_loc_info()
colnames(data)
colnames(ndf)
# load functions and get some global settings
source("T:/GitHub/MPO_Data_Portal/TrafficCountData/RegionalCounts/Traffic_Counts_Functions.r")
new_data <- add_loc_info()
data <- rbind(data, new_data)
write.csv(data, paste0(outpath, "Traffic_Counts_Vehicles.csv"), row.names = FALSE)
new_data[,c("Site", "Location_d")]
unique(new_data[,c("Site", "Location_d")])
new_data <- add_loc_info()
library(dplyr)
library(readxl)
library(writexl)
library(rgdal)
library(reshape2)
library(stringr)
source("T:/GitHub/MPO_Data_Portal/TrafficCountData/RegionalCounts/Traffic_Counts_Functions.r")
inpath <- "T:/Data/COUNTS/Motorized Counts/Regional Traffic Counts Program/Central Lane Motorized Count Program/"
site.path <- paste0(inpath, "traffic_count_locations")
outpath <- "T:/Tableau/tableauRegionalCounts/Datasources/"
new_data <- add_loc_info()
library(dplyr)
library(readxl)
library(writexl)
library(rgdal)
library(reshape2)
library(stringr)
# load functions and get some global settings
source("T:/GitHub/MPO_Data_Portal/TrafficCountData/RegionalCounts/Traffic_Counts_Functions.r")
inpath <- "T:/Data/COUNTS/Motorized Counts/Regional Traffic Counts Program/Central Lane Motorized Count Program/"
site.path <- paste0(inpath, "traffic_count_locations")
outpath <- "T:/Tableau/tableauRegionalCounts/Datasources/"
data <- read.csv(paste0(outpath, "Traffic_Counts_Vehicles.csv"))
#colnames(data)[which(colnames(data) %in% c("owner", "YEAR", "SEASON","Location_d"))] <- c("Owner", "Year", "Season","Location")
#data$Owner <- ifelse(data$Owner=='Eug', 'EUG', ifelse(data$Owner=='Spr', 'SPR', data$Owner))
col_order <- colnames(data)
new_data <- add_loc_info()
library(dplyr)
library(readxl)
library(writexl)
library(rgdal)
library(reshape2)
library(stringr)
# load functions and get some global settings
source("T:/GitHub/MPO_Data_Portal/TrafficCountData/RegionalCounts/Traffic_Counts_Functions.r")
inpath <- "T:/Data/COUNTS/Motorized Counts/Regional Traffic Counts Program/Central Lane Motorized Count Program/"
site.path <- paste0(inpath, "traffic_count_locations")
outpath <- "T:/Tableau/tableauRegionalCounts/Datasources/"
data <- read.csv(paste0(outpath, "Traffic_Counts_Vehicles.csv"))
#colnames(data)[which(colnames(data) %in% c("owner", "YEAR", "SEASON","Location_d"))] <- c("Owner", "Year", "Season","Location")
#data$Owner <- ifelse(data$Owner=='Eug', 'EUG', ifelse(data$Owner=='Spr', 'SPR', data$Owner))
col_order <- colnames(data)
new_data <- add_loc_info()
readOneBound()
library(dplyr)
library(readxl)
library(writexl)
library(rgdal)
library(reshape2)
library(stringr)
# load functions and get some global settings
source("T:/GitHub/MPO_Data_Portal/TrafficCountData/RegionalCounts/Traffic_Counts_Functions.r")
inpath <- "T:/Data/COUNTS/Motorized Counts/Regional Traffic Counts Program/Central Lane Motorized Count Program/"
site.path <- paste0(inpath, "traffic_count_locations")
outpath <- "T:/Tableau/tableauRegionalCounts/Datasources/"
data <- read.csv(paste0(outpath, "Traffic_Counts_Vehicles.csv"))
#colnames(data)[which(colnames(data) %in% c("owner", "YEAR", "SEASON","Location_d"))] <- c("Owner", "Year", "Season","Location")
#data$Owner <- ifelse(data$Owner=='Eug', 'EUG', ifelse(data$Owner=='Spr', 'SPR', data$Owner))
col_order <- colnames(data)
set <- "2021June"
data.path <- paste0(inpath, "data/", set, "/SiteData")
new_data <- add_loc_info()
# load libraries
library(dplyr)
library(readxl)
library(writexl)
library(rgdal)
library(reshape2)
library(stringr)
# load functions and get some global settings
source("T:/GitHub/MPO_Data_Portal/TrafficCountData/RegionalCounts/Traffic_Counts_Functions.r")
inpath <- "T:/Data/COUNTS/Motorized Counts/Regional Traffic Counts Program/Central Lane Motorized Count Program/"
site.path <- paste0(inpath, "traffic_count_locations")
outpath <- "T:/Tableau/tableauRegionalCounts/Datasources/"
data <- read.csv(paste0(outpath, "Traffic_Counts_Vehicles.csv"))
#colnames(data)[which(colnames(data) %in% c("owner", "YEAR", "SEASON","Location_d"))] <- c("Owner", "Year", "Season","Location")
#data$Owner <- ifelse(data$Owner=='Eug', 'EUG', ifelse(data$Owner=='Spr', 'SPR', data$Owner))
col_order <- colnames(data)
set <- "2021June"
data.path <- paste0(inpath, "data/", set, "/SiteData")
new_data <- add_loc_info()
